<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>Amicable Numbers</title>
	
	<script language = "javascript">
		
		//checks whether two numbers are amicable and prints into div
		function areAmicable() {
			var num1 = document.getElementById("num1").value;
			var num2 = document.getElementById("num2").value;
			
			var factors1 = findFactors(num1);
			var factors2 = findFactors(num2);
			
			var sum1 = sum(factors1);
			var sum2 = sum(factors2);
			
			var div = document.createElement("div");
			if (sum1 == num2 && sum2 == num1) {
				div.innerHTML = "<br>" + "The numbers: " + num1 + " and " + num2 + " are amicable.";
			} else {
				div.innerHTML = "<br>" + "The numbers: " + num1 + " and " + num2 + " are not amicable.";
			}
			document.getElementById("main").appendChild(div);
			
		}
		
		//finds all factors of number given and returns in an array
		function findFactors(num) {
			var arr = [];
			var factors = "";
			for (i=1;i<num;i++) {
				if (isFactor(i,num)) {
					arr.push(i);
					factors += i + " ";
				}
			}
			alert("The factors of " + num + " are: " + factors);
			return arr;
		}
		
		//returns whether or not x is a factor of y
		function isFactor(x, y) {
			if (y%x == 0) {
				return true;
			} else {
				return false;
			}
		}
		
		//returns the sum of the numbers in the given array
		function sum(arr) {
			var sum = 0;
			for (i=0;i<arr.length;i++) {
				sum += arr[i];
			}
			return sum;
		}
	
	</script>
	
</head>
<body>

	
	<form>
	
		<label for="num1">Number 1:</label><br>
		<input type="text" id="num1" name="num1"><br>
		<label for="num2">Number 2:</label><br>
		<input type="text" id="num2" name="num2"><br><br>
		<button type = "button" onclick = "areAmicable();">Submit</button>
		
	</form>
	
	<div id = "main"></div>
	
</body>
</html>
